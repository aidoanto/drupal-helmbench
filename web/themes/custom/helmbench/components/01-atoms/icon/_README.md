# Icon Component

Reusable icon component using [Lucide](https://lucide.dev/) icons via SVG sprite.

## Overview

Icons are rendered from an SVG sprite file that's generated from a list of used icons. This approach provides:

- **Performance**: Single sprite file loads once, icons render instantly
- **Tree-shaking**: Only icons you use are included in the sprite
- **No JavaScript**: Pure SVG/CSS solution
- **Accessible**: Built-in ARIA support
- **Flexible**: Works with Tailwind classes for styling

## Usage

### Basic Usage

```twig
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'chevron-right',
  size: 'md'
} %}
```

### With Custom Styling

```twig
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'alert-circle',
  size: 'lg',
  class: 'text-danger',
  aria_label: 'Warning'
} %}
```

### In Navigation Links

```twig
<a href="/about" class="flex items-center gap-2">
  {% include '@helmbench/01-atoms/icon/icon.twig' with {
    name: 'user',
    size: 'sm'
  } %}
  About me
</a>
```

### In Buttons

```twig
<button class="flex items-center gap-2">
  Save
  {% include '@helmbench/01-atoms/icon/icon.twig' with {
    name: 'check-circle',
    size: 'sm'
  } %}
</button>
```

## Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `name` | string | Yes | - | Icon name from Lucide (e.g., 'chevron-right', 'user', 'menu') |
| `size` | string | No | 'md' | Icon size: 'xs', 'sm', 'md', 'lg', 'xl' |
| `class` | string | No | - | Additional CSS classes (e.g., 'text-primary', 'text-danger') |
| `aria_label` | string | No | - | Accessible label for screen readers (use when icon conveys meaning) |
| `aria_hidden` | boolean | No | false | Hide from screen readers if icon is decorative |
| `attributes` | object | No | - | Additional HTML attributes |

## Icon Sizes

| Size | Tailwind Class | Dimensions |
|------|----------------|------------|
| `xs` | `w-3 h-3` | 12px × 12px |
| `sm` | `w-4 h-4` | 16px × 16px |
| `md` | `w-5 h-5` | 20px × 20px |
| `lg` | `w-6 h-6` | 24px × 24px |
| `xl` | `w-8 h-8` | 32px × 32px |

## Available Icons

Icons are defined in `src/icons/icons.json`. Currently available icons:

- `chevron-right` - Right chevron
- `chevron-down` - Down chevron
- `menu` - Hamburger menu
- `x` - Close/remove
- `user` - User profile
- `info` - Information
- `arrow-right` - Right arrow

**Browse all available icons**: [Lucide Icons](https://lucide.dev/icons/)

## Adding New Icons

1. **Add icon name to config**: Edit `src/icons/icons.json` and add the icon name to the `icons` array:

```json
{
  "icons": [
    "chevron-right",
    "your-new-icon-name"
  ]
}
```

2. **Build the sprite**: Run the build script to regenerate the sprite:

```bash
npm run icons:build
```

Or include it in your full build:

```bash
npm run build
```

3. **Use in templates**: The icon is now available in your Twig templates:

```twig
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'your-new-icon-name',
  size: 'md'
} %}
```

## Icon Naming

Lucide uses **kebab-case** for icon names (e.g., `chevron-right`, `arrow-right`). Some icons may use **camelCase** (e.g., `alertCircle`, `checkCircle`). Check the [Lucide website](https://lucide.dev/icons/) for the exact name.

## Accessibility

### Decorative Icons

Icons that are purely visual (don't convey meaning) should be hidden from screen readers:

```twig
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'chevron-right',
  aria_hidden: true
} %}
```

### Meaningful Icons

Icons that convey information should have an accessible label:

```twig
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'alert-circle',
  aria_label: 'Warning: This action cannot be undone'
} %}
```

### Icons in Links/Buttons

When an icon is the only content in a link or button, always provide an accessible label:

```twig
<button aria-label="Close dialog">
  {% include '@helmbench/01-atoms/icon/icon.twig' with {
    name: 'x',
    aria_hidden: true
  } %}
</button>
```

## Styling

Icons inherit the `currentColor` for their stroke, so you can style them with Tailwind text color classes:

```twig
{# Primary color #}
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'info',
  class: 'text-primary'
} %}

{# Danger color #}
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'alert-circle',
  class: 'text-danger'
} %}

{# Custom color with opacity #}
{% include '@helmbench/01-atoms/icon/icon.twig' with {
  name: 'user',
  class: 'text-text/60'
} %}
```

## Build Process

The icon sprite is generated by `scripts/build-icons.js`:

1. Reads icon list from `src/icons/icons.json`
2. Imports each icon from the `lucide` package
3. Extracts SVG data and creates symbol elements
4. Generates sprite file at `dist/icons/sprite.svg`
5. Sprite is included inline in `templates/layout/html.html.twig`

The sprite is automatically generated when you run:

```bash
npm run build        # Full build (icons + CSS)
npm run icons:build  # Icons only
```

## Troubleshooting

### Icon Not Showing

1. **Check icon name**: Verify the icon name exists in Lucide and matches exactly (case-sensitive)
2. **Rebuild sprite**: Run `npm run icons:build` to regenerate the sprite
3. **Check sprite inclusion**: Ensure the sprite is included in `html.html.twig`
4. **Check browser console**: Look for errors loading the sprite

### Icon Name Not Found

If you see a warning like `Icon "icon-name" not found in Lucide`:

1. Check the [Lucide website](https://lucide.dev/icons/) for the correct name
2. Some icons use camelCase (e.g., `alertCircle`) instead of kebab-case
3. Update `src/icons/icons.json` with the correct name
4. Rebuild the sprite

## Related Files

- **Component**: `components/01-atoms/icon/icon.twig`
- **Build Script**: `scripts/build-icons.js`
- **Icon Config**: `src/icons/icons.json`
- **Generated Sprite**: `dist/icons/sprite.svg`
- **HTML Template**: `templates/layout/html.html.twig` (includes sprite)
