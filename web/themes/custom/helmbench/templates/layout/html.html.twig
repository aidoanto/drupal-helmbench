{#
/**
 * @file
 * Theme override for the basic structure of a single Drupal page.
 *
 * Variables:
 * - logged_in: A flag indicating if user is logged in.
 * - root_path: The root path of the current page (e.g., node, admin, user).
 * - node_type: The content type for the current node, if on a node page.
 * - head_title: List of text elements that make up the head title.
 * - page_top: Initial rendered markup (before page content).
 * - page: The rendered page content.
 * - page_bottom: Closing rendered markup (after page content).
 * - db_offline: A flag indicating if the database is offline.
 *
 * TODO: Customize this template to:
 * - Add custom fonts (Google Fonts, self-hosted, etc.)
 * - Add meta tags not handled by metatag module
 * - Add body classes for styling hooks
 * - Include any global scripts
 *
 * @see template_preprocess_html()
 */
#}
<!DOCTYPE html>
<html{{html_attributes}}>
	<head>
		{#
				  Theme detection script - runs immediately to prevent flash of wrong theme.
				  Checks localStorage first, falls back to system preference (prefers-color-scheme).
				  Must run before any CSS loads to avoid "flash of unstyled content" (FOUC).
				#}
		<script>
			(function () {
// t = stored theme preference ('light', 'dark', or null)
// d = does the user's OS prefer dark mode?
var t = localStorage.getItem('theme');
var d = window.matchMedia('(prefers-color-scheme: dark)').matches;
// Apply dark class if: explicitly set to dark, OR no preference but system prefers dark
if (t === 'dark' || (! t && d)) {
document.documentElement.classList.add('dark');
}
})();
		</script>
		<head-placeholder token="{{ placeholder_token }}">
			<title>{{ head_title|safe_join(' | ') }}</title>

			{# TODO: Add custom fonts here #}
			{# Example: Google Fonts
						    <link rel="preconnect" href="https://fonts.googleapis.com">
						    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
						    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
						    #}
			<link rel="preconnect" href="https://fonts.googleapis.com">
			<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
			<link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow:ital,wght@0,400..700;1,400..700&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

			<css-placeholder token="{{ placeholder_token }}">
				<js-placeholder token="{{ placeholder_token }}"></head>

				{#
								    TODO: Add body classes for styling hooks.
								    Example classes you might want:
								    - 'page-type--{{ node_type }}' for content type
								    - 'path--{{ root_path }}' for current path
								    - 'user-logged-in' or 'user-anonymous'
								  #}
				<body{{attributes}}>
					{#
										      Include icon sprite for Lucide icons.
										      The sprite is generated by scripts/build-icons.js from src/icons/icons.json
										    #}
					{% if icon_sprite %}
						{{ icon_sprite|raw }}
					{% endif %}

					{#
										      Keyboard navigation/accessibility link to main content area.
										      TODO: Ensure #main-content ID exists on your main content wrapper.
										    #}
					<a href="#main-content" class="visually-hidden focusable skip-link">
						{{ 'Skip to main content'|t }}
					</a>

					{{ page_top }}
					{{ page }}
					{{ page_bottom }}

					<js-bottom-placeholder token="{{ placeholder_token }}"></body>
				</html>
